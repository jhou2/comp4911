var cascadiaServices=angular.module("cascadiaServices",["restangular"]);cascadiaServices.factory("InitUserMap",function(e){return function(t){!t.isAuthenticated||t.userMap&&0!=t.userMap.length||(t.userMap={},e.one("users").getList().then(function(e){t.userList=e;for(var a=0;a<t.userList.length;++a)t.userMap[t.userList[a].id]=t.userList[a]}))}}),cascadiaServices.factory("AuthenticateUser",function(e,t){return function(a){a.isAuthenticated=localStorage.getItem("token")?!0:!1,a.isAuthenticated?t.setDefaultHeaders({Authorization:"Basic "+localStorage.getItem("token")}):e.path("/login")}}),cascadiaServices.factory("AssignUser",function(){return function(e){e.user=JSON.parse(localStorage.getItem("user"))}});